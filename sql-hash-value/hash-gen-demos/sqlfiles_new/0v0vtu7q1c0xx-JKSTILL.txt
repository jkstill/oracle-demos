SELECT /*+ opt_param('parallel_execution_enabled', 'false') */
                       /* EXEC_FROM_DBMS_XPLAN */ id, parent_id, partition_id, 
                       timestamp, optimizer, position, search_columns, depth , operation, options, object_name, object_owner, object_type, null as object_instance, cardinality, bytes, temp_space, cost, io_cost, cpu_cost, time, partition_start, partition_stop, object_node, other_tag, distribution, projection, access_predicates, filter_predicates, other, qblock_name, object_alias, other_xml, sql_profile, sql_plan_baseline, starts, outrows, crgets, cugets, reads, writes, etime, 
                 mem_opt, mem_one, last_mem_used, last_mem_usage, opt_cnt, 
                 one_cnt, multi_cnt, max_tmp, last_tmp from (select /*+ no_merge */ 
                    vp.id id, vp.parent_id parent_id, vp.partition_id,
                    vp.timestamp, vp.optimizer, vp.search_columns,
                    vp.depth depth, vp.position position, 
                    vp.operation operation, vp.options options,
                    vp.cost cost, vp.time time, 
                    vp.cardinality cardinality, vp.bytes bytes, 
                    vp.object_node object_node,
                    vp.object_name object_name, 
                    vp.object_owner object_owner, 
                    vp.object_type object_type, null as object_instance,
                    vp.other_tag other_tag, 
                    vp.partition_start partition_start,
                    vp.partition_stop partition_stop, 
                    vp.distribution distribution, 
                    vp.temp_space temp_space, vp.io_cost io_cost,
                    vp.cpu_cost cpu_cost, 
                    vp.filter_predicates filter_predicates, 
                    vp.access_predicates access_predicates, 
                    vp.other other, vp.projection projection, 
                    vp.qblock_name qblock_name, 
                    vp.object_alias object_alias,
                    vp.other_xml other_xml, 
                    vs.sql_profile sql_profile, 
                    vs.sql_plan_baseline sql_plan_baseline, vp.last_starts starts,
                                     vp.last_output_rows outrows, 
                                     vp.last_cr_buffer_gets crgets, 
                                     vp.last_cu_buffer_gets cugets, 
                                     vp.last_disk_reads reads,
                                     vp.last_disk_writes writes, 
                                     vp.last_elapsed_time etime,
                                     vp.estimated_optimal_size mem_opt,
                                     vp.estimated_onepass_size mem_one,
                                     vp.last_memory_used last_mem_used,
                                     vp.last_execution last_mem_usage,
                                     vp.optimal_executions opt_cnt,
                                     vp.onepass_executions one_cnt,
                                     vp.multipasses_executions multi_cnt,
                                     vp.max_tempseg_size max_tmp,
                                     vp.last_tempseg_size last_tmp
           from V$SQL_PLAN_STATISTICS_ALL vp, sys.v_$sql vs where vp.SQL_ID = :1  and vp.child_number=1 and vp.SQL_ID = vs.SQL_ID and vs.is_obsolete = 'N' and vs.address = vp.address and vs.child_number= :2) order by id